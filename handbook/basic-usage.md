# Быстрый старт

## Создание проекта 

Создать базовый проект на языке C:
```
yug init -t <target> <project-name>
```
* `<target>` - подставьте модель микроконтроллера. Например, `ATtiny2313`.
* `<project-name>` - имя вашего проекта. Например, `blink`.

Пример:
```
yug -t ATmega8A blink
```

Дополнительные опции:
* `-d`, `--dev` - производит дополнительные действия по настройке вашего проекта: дополняет 
базовую структуру, создает `.clangd` файл для работы языкового сервера. 
* `--cpp` - указывает то, что проект будет на языке C++, ибо по-умолчанию создается C проект. 
* `--mhz <mhz>` - позволяет указать используемую частоту в проекте. По-умолчанию это 1МГц.

Для справки смотрите: `yug help init`.

## Структура проекта

Базовая структура после создания следующая:
```
.
├── src
│   └── main.c
└── yug.toml
```
* `src/` - директория содержит файлы исходных кодов, где файл `main.c` является точкой входа. 
* `yug.toml` - ключевой элемент по работу с yug'ом, файл конфигурации проекта. 

Файл конфигурации после создания выглядит следующем образом:
```toml
# yug.toml

[firmware]
name = 'blink'
language = 'c'

[firmware.target]
model = 'Atmega8A'
mhz = 1
```
Он оформляет в формате TOML. 

## Компиляция проекта 

Чтобы скомпилировать проект достаточно воспользоваться следующей командой:
```
yug build
```
После чего создаться директория `_build` с готовыми к загрузки файлами.
```
_build
├── firmware.elf
└── firmware.hex
```

Для справки смотрите: `yug help build`.

## Загрузка прошивки 

Теперь когда мы получили готовый к загрузки файл(`firmware.hex`), 
можно прошить микроконтроллер. По-умолчанию используется USBASP.
```
yug flash
```
Готово! 

Иногда при прошивки надо указывать немного другую модель МК. Например, в случае 
`ATmega8A` надо указывать `ATmega8`. Для это используйте флаг `-t`, `--target`:
```
yug flash -t ATmega8 
```

Для справки смотрите: `yug help flash`.

## Как смотреть справку?

Для полной справки по командам и флагам используйте `yug -h` и `yug help <command>`, 
где `<command>` - название команды. 

